"use strict";angular.module("representativesApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("representativesApp").controller("MainCtrl",["$scope","$http","Ajax","keys",function(a,b,c,d){a.search=function(){""===a.locate?(navigator.geolocation&&navigator.gelocation.getCurrentPosition(function(a){console.log(a.coords);a.coords.latitude,a.coords.longitude}),console.log("no result yet")):c.getLatLong(a.locate).then(function(a){if(a.results[0].hasOwnProperty("formatted_address")){console.log(a.results[0].geometry.location);a.results[0].geometry.location.lat,a.results[0].geometry.location.lng}else console.log("Use Zip code instead")})},a.getLatLong=function(a){var c=d.googleMaps(),e={method:"GET",url:"https://maps.googleapis.com/maps/api/geocode/json?address="+encodeURIComponent(a)+"&key="+c};return b(e).then(function(a){return console.clear(),a.data.results.map(function(a){return console.log(a.formatted_address),a})},function(a){console.log(a)})}}]),angular.module("representativesApp").service("Ajax",["$http","$q","keys",function(a,b,c){function d(c){var d=b.defer();return a(c).success(function(a){d.resolve(a)}).error(function(a){return d.reject(a)}),d.promise}function e(a){var b={method:"GET",url:"https://congress.api.sunlightfoundation.com/legislators/locate?zip="+a+"&apikey="+g};return console.log(a),d(b)}function f(a){var b={method:"GET",url:"https://maps.googleapis.com/maps/api/geocode/json?address="+encodeURIComponent(a)+"&key="+h};return console.log(a),d(b)}var g=c.sunlight(),h=c.googleMaps();return{locateZip:function(a){return e(a)},getLatLong:function(a){return f(a)}}}]),angular.module("representativesApp").directive("header",function(){return{template:"<div></div>",restrict:"E",link:function(a,b,c){b.text("this is the header directive")}}}),angular.module("representativesApp").service("header",function(){}),angular.module("representativesApp").controller("HeaderCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("representativesApp").service("keys",function(){var a="26b1b82d62e543d28efa0bf8d3ccdcb2",b="AIzaSyBjA9IPgDSu4qR_MJnRuLEWJK8qS_CfNuo";return{sunlight:function(){return a},googleMaps:function(){return b}}}),angular.module("representativesApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="mainPage jumbotron"> <h1>Who Are My Representatives?</h1> <p class="lead"> Find my federal, state, and local representatives </p> <div class="form-group col-md-6 col-md-offset-3"> <input type="text" class="form-control addressEntry" ng-model="locate" placeholder="Enter address or click button below to use your current location ..." uib-typeahead="address.formatted_address for address in getLatLong($viewValue)" typeahead-loading="isLoading" typeahead-no-results="noResults" class="form-control"> <i ng-show="isLoading" class="glyphicon glyphicon-refresh"></i> <div ng-show="noResults"> <br><i class="glyphicon glyphicon-remove"></i> No Results Found </div> </div> <p class="searchButton"> <a ng-click="search($viewValue)" class="btn btn-lg btn-primary" ng-href="#/">Search <span class="glyphicon glyphicon-chevron-right"></span> </a> </p> </div>')}]);